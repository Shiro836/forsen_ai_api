{{ block "char_frame" . }}

<div class="grid grid-rows-12 grid-cols-12 w-full h-full overflow-hidden">
    <img class="col-start-2 col-end-7 row-start-2 row-end-7 object-contain max-h-full" src="/characters/{{ .Card.ID }}/image"></img>
    <div class="col-start-1 col-end-13 row-start-8 row-end-11 text-xl text-center">{{ .Card.Name }}</div>
    {{ if .CanEdit }}
    <button  class="row-start-11 row-end-12 col-start-2 col-end-4" hx-get="/characters/{{ .Card.ID }}" hx-select="#tab-content" hx-swap="outerHTML" hx-target="#tab-content" hx-push-url="true">Edit</button>
    {{ end }}
    {{ if not .TTSRewardCreated}}
    <button class="row-start-11 row-end-12 col-start-7 col-end-9" hx-post="/characters/{{ .Card.ID }}/reward_tts">TTS</button>
    {{ end }}
    {{ if not .AIRewardCreated}}
    <button class="row-start-11 row-end-12 col-start-10 col-end-12" hx-post="/characters/{{ .Card.ID }}/reward_ai">AI</button>
    {{ end }}
    {{ if .IsAdmin }}
    <form class="row-start-12 row-end-13 col-start-7 col-end-12 flex items-center gap-2" hx-post="/characters/{{ .Card.ID }}/admin/update_short_char_name" hx-target="closest div">
        <input type="text" name="short_name" placeholder="Short name" value="{{ if .Card.ShortCharName.Valid }}{{ .Card.ShortCharName.String }}{{ end }}" class="border rounded px-1 py-0.5 w-full" />
        <button type="submit" class="border rounded px-2 py-0.5">Save</button>
    </form>
    {{ end }}
</div>

{{ end }}
